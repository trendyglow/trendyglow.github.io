---
title : "[JAVA] instanceof ì—°ì‚°ì ì‚¬ìš© - ìºìŠ¤íŒ… í˜•ë³€í™˜ (2)"
layout: single
excerpt: "í˜•ë³€í™˜ ì „ì— instanceof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìºìŠ¤íŠ¸ ì—°ì‚°ì´ ê°€ëŠ¥í•œì§€ ê²€ì‚¬í•œë‹¤."
toc: true
toc_sticky: true
date: 2023-02-16
categories: [Java]
tag: [Code]
author_profile: false
header:
  overlay_image: assets/images/header_post_1.jpg
  overlay_filter: 0.5 
  teaser: assets/images/java.png
published: true
---


> ì´ì „ê¸€
: [ìƒì† ê´€ê³„ì˜ í´ë˜ìŠ¤ ê°ì²´ í˜•ë³€í™˜](../0119)

# instanceof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ìºìŠ¤íŠ¸ ì—°ì‚°ì´ ê°€ëŠ¥í•œì§€ ê²€ì‚¬  

- **ë¶€ëª¨** : Account í´ë˜ìŠ¤  
    - í•„ë“œ : accountNo, ownerName, balance  
    - ë©”ì†Œë“œ : deposit(), cardNo()
- **ìì‹** : CheckingAccount í´ë˜ìŠ¤  
    - í•„ë“œ : cardNo  
    - ë©”ì†Œë“œ : pay()  

## ì¡°ê±´  
ê°ì²´ë¥¼ ìºìŠ¤íŠ¸í•˜ê¸° ì „ì— ìºìŠ¤íŠ¸ ì—°ì‚° ê°€ëŠ¥ì„±ì„ ê²€ì‚¬í•˜ëŠ” instanceof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤.

## ì˜ˆì œ ì½”ë“œ  
- `Account.java` ë¶€ëª¨ í´ë˜ìŠ¤
    ```java
    public class Account {
    String accountNo;  //ê³„ì¢Œë²ˆí˜¸
    String ownerName; //ì˜ˆê¸ˆì£¼ ì´ë¦„
    int balance;   //ì”ì•¡
    
    //Account() {  
    //}
    
    Account(String accountNo, String ownerName, int balance) { 
    this.accountNo = accountNo; 
    this.ownerName = ownerName; 
    this.balance = balance; 
    } 
    
    void deposit(int amount) { 
    balance += amount;
    }
    
    int withdraw(int amount) throws Exception {
    if (balance < amount) 
        throw new Exception("ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤."); 
    balance -= amount;
    return amount;
    }
    }
    ```

- `CheckingAccount.java` ìì‹ í´ë˜ìŠ¤
    ```java
    public class CheckingAccount extends Account {
        String cardNo; 	//ì§ë¶ˆì¹´ë“œ ë²ˆí˜¸ í•„ë“œ
        
        //CheckingAccount() {	//super() : ë¶€ëª¨ í´ë˜ìŠ¤ ë””í´íŠ¸ ìƒì„±ì ìë™ í˜¸ì¶œ
        //	super();	//this();
        //}
        
        CheckingAccount(String accountNo, String ownerName,
            int balance, String cardNo) { // ìƒì„±ì
            //super();
            super(accountNo, ownerName, balance);	//ëª…ì‹œì ìœ¼ë¡œ ë¶€ëª¨ í´ë˜ìŠ¤ ìƒì„±ì í˜¸ì¶œ
            
            //this.accountNo = accountNo;
            //this.ownerName = ownerName;
            //this.balance = balance;
            this.cardNo = cardNo;
        }
        

        int pay(String cardNo, int amount) throws Exception 
        { 
        if (!cardNo.equals(this.cardNo) || (balance < amount))
                throw new Exception("ì§€ë¶ˆì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.");
            return withdraw(amount);
        }

    }
    ```

## ì‘ì„± ì½”ë“œ  

- `RefTypeExample10.java` ê°ì²´ë¥¼ ìºìŠ¤íŠ¸í•˜ê¸° ì „ì— instanceof ì—°ì‚°ìë¡œ ê²€ì‚¬
    ```java
    public class RefTypeExample10 {
        public static void main(String args[]) {
        
        Account obj = new Account("111-22-33333333", "í™ê¸¸ë™", 100000);
        //objë¥¼ CheckingAccountë¡œ ìºìŠ¤íŠ¸í•  ìˆ˜ ìˆì„ ë•Œë§Œ pay ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. 
        if (obj instanceof CheckingAccount)
            pay((CheckingAccount) obj);
        else
            System.out.println("ìºìŠ¤íŠ¸í•  ìˆ˜ ì—†ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.");
        
        }
        
        static void pay(CheckingAccount obj) {
            try {
                int amount = obj.pay("5555-6666-7777-8888", 47000); 
                System.out.println("ì¸ì¶œì•¡: " + amount);
                System.out.println("ì¹´ë“œë²ˆí˜¸: " + obj.cardNo);
            }
            catch (Exception e) { 
                System.out.println(e.getMessage());
            }
        }
    }
    ```
### ì¶œë ¥ ê²°ê³¼  
ìºìŠ¤íŠ¸í•  ìˆ˜ ì—†ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.

---

- `RefTypeExample11.java` ì¸ì¶œì•¡ì´ ë‚˜ì˜¤ê²Œ ìºìŠ¤íŠ¸ ì—°ì‚°
    ```java
    public class RefTypeExample11 {
	
	public static void main(String args[]) {
		Account obj = new Account("111-22-33333333", "í™ê¸¸ë™", 100000);
		Account obj2 = new CheckingAccount("5555-6666-7777-8888", "í™ê¸¸ë™", 100000,"5555-6666-7777-8888");
		
		if (obj2 instanceof CheckingAccount)
			pay((CheckingAccount) obj2);
		else
			System.out.println("ìºìŠ¤íŠ¸í•  ìˆ˜ ì—†ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.");
	}
	
	static void pay(CheckingAccount obj) {
		try {
			int amount = obj.pay("5555-6666-7777-8888", 47000); 
			System.out.println("ì¸ì¶œì•¡: " + amount);
			System.out.println("ì¹´ë“œë²ˆí˜¸: " + obj.cardNo);
		}
		catch (Exception e) { 
			System.out.println(e.getMessage());
		}
	}

    }
    ```
### ì¶œë ¥ ê²°ê³¼  
ì¸ì¶œì•¡: 47000  
ì¹´ë“œë²ˆí˜¸: 5555-6666-7777-8888

ğŸŒ ì •ë³´ : ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤íƒ€ë‚˜ ë‚´ìš© ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
{: .notice}
